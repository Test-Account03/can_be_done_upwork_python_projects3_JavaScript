{
    "url": "https://www.upwork.com/jobs/Build-Lightweight-Student-Discounts-Website_~021979843678704877429/?referrer_url_path=/nx/search/jobs/",
    "專案名稱": "Build a Lightweight Student-Discounts Website",
    "專案描述": "We need a tiny, fast website that lists verified student discounts (coupons/codes/links) in and around Zürich. It must be mobile-first, static-first, and fee-free: we will supply a single JSON file and we want to be able to edit the json directly on the website for content updates. Deploy on Vercel’s free tier. We have a Figma screenshot as a visual reference for layout & style. Please look at the attached file for the full project description.",
    "地點": "Location\nSwitzerland",
    "額外資訊": "Fixed price\nIntermediate\nEst. budget:\n$100.00",
    "類別": "JavaScript",
    "ai_initail_anylizer": {
        "ai_position_title": "AI 客戶需求解析師",
        "response": "```markdown\n### 需求摘要\n客戶需要一個輕量、快速、行動優先的靜態網站，用於展示蘇黎世地區的學生折扣資訊。網站內容需從一個 JSON 檔案動態載入，且客戶希望能直接在網站上編輯並更新此 JSON 檔案。最終成品需部署在 Vercel 的免費方案上。\n\n### 初步功能點\n*   **折扣列表頁面**: 根據提供的 JSON 檔案，動態渲染所有學生折扣項目，包含優惠券代碼、連結、描述等資訊。\n*   **響應式與行動優先設計**: 依據 Figma 設計稿，實現網頁版面與樣式，並確保在手機、平板、桌面裝置上皆有良好瀏覽體驗。\n*   **內容管理機制 (核心功能)**: 提供一個讓客戶能直接更新 JSON 內容的介面。考量到零營運成本，建議方案為引導客戶至 GitHub 存放庫直接編輯 JSON 檔案，並利用 Vercel 的自動部署功能即時更新網站。\n*   **客戶端篩選/搜尋功能**: (建議功能) 在前端實現一個簡易的搜尋框或分類篩選器，讓使用者可以快速找到想要的折扣資訊。\n*   **Vercel 自動化部署**: 設定專案與 GitHub 存放庫連結，實現推送 (push) 更新後 Vercel 自動化建置與部署。\n\n### 技術關鍵詞\n*   **語言**: JavaScript\n*   **前端框架/函式庫**: Vanilla JS, React (Next.js), Svelte (SvelteKit), Astro\n*   **樣式**: CSS, Tailwind CSS\n*   **資料處理**: JSON, `fetch` API\n*   **部署與版本控制**: Git, GitHub, Vercel\n*   **核心技術概念**: 靜態網站生成 (Static Site Generation, SSG), 無伺服器函數 (Serverless Functions), Git-based CMS (將 GitHub 作為內容後台)\n\n### 待釐清問題列表\n1.  **關於內容編輯**: \"直接在網站上編輯 JSON\" 的具體期望是什麼？考量到預算與維護成本，是否能接受「登入 GitHub 網站來編輯 JSON 檔案，儲存後網站自動更新」的方案？這是在免費方案下最穩定可靠的做法。\n2.  **關於資料結構**: 是否能先提供一份範例 JSON 檔案？這將決定每個折扣項目包含哪些欄位（如：店家名稱、折扣內容、連結、有效期限、分類等）。\n3.  **關於設計稿**: Figma 設計稿是否包含行動版與桌面版的版面？是否有任何動態效果或使用者互動的具體說明？\n4.  **關於未來擴充**: 短期內是否有增加其他頁面（如「關於我們」）或更複雜功能（如使用者提交折扣）的計畫？這會影響初期的技術架構選擇。\n5.  **關於網域**: 網站是否需要綁定自訂網域？還是使用 Vercel 提供的免費子網域即可？\n```"
    },
    "ai_anylizer": {
        "ai_position_title": "AI 需求分析師與功能規劃師",
        "response": "```markdown\n### 0. 待釐清問題回覆 (Responses to Clarifications)\n\n*   **問題 1:** 關於內容編輯: \"直接在網站上編輯 JSON\" 的具體期望是什麼？考量到預算與維護成本，是否能接受「登入 GitHub 網站來編輯 JSON 檔案，儲存後網站自動更新」的方案？這是在免費方案下最穩定可靠的做法。\n*   **決策:** 建立一個受密碼保護的簡易後台頁面 (例如 `/admin`)，讓客戶能直接在該頁面編輯 JSON 內容並儲存。不採用引導至 GitHub 編輯的方案。\n*   **決策依據 (Reasoning):** 依據 [A] 原始專案描述中明確要求「we want to be able to edit the json directly on the website for content updates」。此為不可撼動的最高準則。所選方案利用 Vercel 的免費 Serverless Function，可以在不增加額外營運成本的前提下，實現一個在網站內直接編輯並觸發自動更新的完整流程，完全符合 [A] 的要求以及獨立開發的可行性。\n\n*   **問題 2:** 關於資料結構: 是否能先提供一份範例 JSON 檔案？這將決定每個折扣項目包含哪些欄位（如：店家名稱、折扣內容、連結、有效期限、分類等）。\n*   **決策:** 在客戶提供實際檔案前，我們將採用一個標準化的 JSON 結構。每個折扣項目將包含：`id` (唯一識別碼), `storeName` (店家名稱), `category` (分類), `description` (折扣描述), `type` (類型: 'code', 'link', 'in-store'), `value` (折扣碼或網址), 和 `notes` (備註，可選)。\n*   **決策依據 (Reasoning):** 依據 [A] 描述，專案圍繞一個 JSON 檔案運作。為使開發能立即啟動，定義一個清晰、可擴展的資料結構是必要的。此結構涵蓋了學生折扣網站常見的資訊欄位，符合 MVP 原則，能滿足核心展示需求。\n\n*   **問題 3:** 關於設計稿: Figma 設計稿是否包含行動版與桌面版的版面？是否有任何動態效果或使用者互動的具體說明？\n*   **決策:** 專案將嚴格遵循「mobile-first」原則，以 Figma 螢幕截圖作為唯一的視覺風格與佈局指南。所有開發將優先確保在行動裝置上的完美呈現，然後響應式地適應到桌面版。不包含任何 Figma 中未明確展示的複雜動態效果。\n*   **決策依據 (Reasoning):** [A] 中提及「mobile-first」和「Figma screenshot」，暗示了設計的簡潔性。此決策確保開發者能專注於核心功能，避免在設計細節上過度解讀，同時符合專案「tiny」和「fast」的要求。\n\n*   **問題 4:** 關於未來擴充: 短期內是否有增加其他頁面（如「關於我們」）或更複雜功能（如使用者提交折扣）的計畫？這會影響初期的技術架構選擇。\n*   **決策:** 本次開發範圍嚴格限定於 [A] 中描述的單一頁面折扣列表與後台編輯功能。不為任何未來的擴充功能預留或建構額外架構。\n*   **決策依據 (Reasoning):** [A] 描述的是一個「tiny」網站。為了符合獨立開發、低成本和快速交付的原則，應避免過度設計。採用最簡單的靜態網站生成（SSG）架構即可滿足所有現有需求。\n\n*   **問題 5:** 關於網域: 網站是否需要綁定自訂網域？還是使用 Vercel 提供的免費子網域即可？\n*   **決策:** 網站將部署在 Vercel 提供的免費子網域上 (例如 `project-name.vercel.app`)。\n*   **決策依據 (Reasoning):** [A] 明確要求「fee-free」（零費用）。使用 Vercel 的免費子網域是達成此目標的最直接方式，避免了購買和續訂網域的費用。\n\n### 1. 詳細功能規格書 (Functional Specification Document)\n\n#### 1.1. 核心功能 F-01: 學生折扣列表展示\n*   **目標 (Goal):** 在一個對行動裝置友善的頁面上，清晰地展示所有學生折扣資訊。\n*   **前置條件 (Precondition):** 專案的 GitHub 儲存庫中存在一個名為 `discounts.json` 的檔案，且檔案結構符合預期格式。\n*   **執行流程 (Execution Flow):**\n    1.  Vercel 在建置（Build）階段，讀取儲存庫中的 `discounts.json` 檔案。\n    2.  系統根據 JSON 檔案中的資料陣列，生成靜態的 HTML 頁面。\n    3.  每個 JSON 物件被渲染成一個獨立的「折扣卡片」(Discount Card)。\n    4.  頁面樣式需符合提供的 Figma 螢幕截圖，並採用行動優先的響應式設計。\n    5.  使用者瀏覽生成的 Vercel 網址，看到靜態的折扣列表頁面。\n*   **成功結果 (Success Outcome):** 使用者可以快速、流暢地在任何裝置上瀏覽所有學生折扣資訊。\n*   **錯誤處理 (Error Handling):**\n    *   **場景一：`discounts.json` 檔案不存在或格式錯誤** → **處理方式：** Vercel 建置過程將會失敗，並發出通知。網站將不會更新，保持上一個成功的版本。這確保了網站的穩定性。\n\n#### 1.2. 核心功能 F-02: 網站內 JSON 內容編輯\n*   **目標 (Goal):** 提供一個簡易、受密碼保護的介面，讓網站擁有者能直接在網站上更新 `discounts.json` 的內容。\n*   **前置條件 (Precondition):** Vercel 專案已設定好必要的環境變數（後台密碼、GitHub API Token）。\n*   **執行流程 (Execution Flow):**\n    1.  擁有者瀏覽網站的 `/admin` 頁面。\n    2.  頁面顯示一個密碼輸入框。\n    3.  擁有者輸入預設的密碼。\n    4.  系統驗證密碼。成功後，頁面顯示一個文字編輯區（`<textarea>`），其中包含從 GitHub 儲存庫即時讀取的 `discounts.json` 檔案的完整內容。\n    5.  擁有者在文字編輯區中直接修改 JSON 內容。\n    6.  擁有者點擊「儲存更新」按鈕。\n    7.  前端將文字編輯區的內容發送到一個 Vercel Serverless Function 端點。\n    8.  該 Serverless Function 驗證 JSON 格式是否正確。若不正確，則返回錯誤訊息給前端。\n    9.  若格式正確，Serverless Function 使用預存的 GitHub API Token，將新的 JSON 內容提交（commit）到 GitHub 儲存庫的主分支。\n    10. 該提交會自動觸發 Vercel 進行新一輪的建置與部署。\n    11. 前端頁面顯示「更新已送出，網站將在幾分鐘後生效」的提示訊息。\n*   **成功結果 (Success Outcome):** 網站擁有者成功更新了折扣列表，幾分鐘後公開網站上顯示出最新的資訊。\n*   **錯誤處理 (Error Handling):**\n    *   **場景一：輸入的密碼錯誤** → **處理方式：** 頁面顯示「密碼錯誤」的提示，不載入編輯器。\n    *   **場景二：儲存時提交的內容非法的 JSON 格式** → **處理方式：** Serverless Function 拒絕該請求，前端頁面顯示錯誤訊息「JSON 格式無效，請檢查後再試」。\n    *   **場景三：GitHub API Token 失效或權限不足** → **處理方式：** Serverless Function 提交失敗，前端頁面顯示「無法儲存至儲存庫，請聯繫開發者」。\n\n### 2. 使用者故事 (User Stories)\n\n*   **US-01:** 作為一個 **蘇黎世的學生**，我想要 **在一個簡單的網頁上快速找到所有學生折扣**，以便 **我能輕鬆省錢**。\n*   **US-02:** 作為一個 **網站擁有者**，我想要 **直接在網站上的一個簡單頁面編輯和更新折扣列表**，以便 **我能隨時保持資訊的時效性，而無需了解程式碼或聯絡開發者**。\n*   **US-03:** 作為一個 **用手機瀏覽的學生**，我想要 **網站版面能自動適應我的手機螢幕**，以便 **我能方便地閱讀和查找資訊**。\n\n### 3. 驗收標準 (Acceptance Criteria)\n\n#### 針對 US-01 的驗收標準:\n*   **場景 1.1 (Scenario):** 成功瀏覽折扣列表\n    *   **鑑於 (Given):** `discounts.json` 檔案包含三筆有效的折扣資料。\n    *   **當 (When):** 我開啟網站首頁。\n    *   **那麼 (Then):** 我應該看到一個包含三張「折扣卡片」的列表。\n    *   **而且 (And):** 每張卡片都應顯示店家名稱和折扣描述。\n\n#### 針對 US-02 的驗收標準:\n*   **場景 2.1 (Scenario):** 成功更新折扣內容\n    *   **鑑於 (Given):** 我已登入 `/admin` 頁面，且編輯器中顯示了現有的 JSON 內容。\n    *   **當 (When):** 我在編輯器中新增一筆新的折扣資料，並點擊「儲存更新」。\n    *   **那麼 (Then):** 我會看到一條成功送出的提示訊息。\n    *   **而且 (And):** 在 Vercel 完成重新部署後（約 2-3 分鐘），我在網站首頁能看到我剛剛新增的那筆折扣資料。\n\n*   **場景 2.2 (Scenario):** 嘗試儲存無效的 JSON 內容\n    *   **鑑於 (Given):** 我已登入 `/admin` 頁面。\n    *   **當 (When):** 我在編輯器中刪除了一個重要的逗號導致 JSON 格式錯誤，並點擊「儲存更新」。\n    *   **那麼 (Then):** 我應該在頁面上看到一條錯誤訊息，指出「JSON 格式無效」。\n    *   **而且 (And):** 網站首頁的內容不會有任何改變。\n\n#### 針對 US-03 的驗收標準:\n*   **場景 3.1 (Scenario):** 在手機上瀏覽\n    *   **鑑於 (Given):** 我正在使用螢幕寬度為 375px 的手機模擬器或實體手機。\n    *   **當 (When):** 我載入網站首頁。\n    *   **那麼 (Then):** 所有內容（文字、卡片）都應該在螢幕範圍內完全可見，不出現水平捲軸。\n    *   **而且 (And):** 文字大小適中，易於閱讀。\n```"
    },
    "ai_architect": {
        "ai_position_title": "AI Python 系統架構師",
        "response": "```markdown\n### 1. 技術棧建議 (Technology Stack Recommendation)\n\n*   **後端框架 (Backend Framework):** **Flask**\n    *   **理由:** Flask 是一個微框架，極其輕量且靈活，完美符合專案「tiny」和「fast」的核心要求。它沒有不必要的內建功能，可以讓我們只引入實現核心功能所需的函式庫。Flask 能輕易地打包成 Vercel 的 Serverless Function，實現零伺服器維運成本的部署，非常適合獨立開發者的預算限制。\n    *   **Vercel 部署架構指令 (CRITICAL Vercel Deployment Architecture):** 為了確保專案能在 Vercel 環境中成功部署且路徑解析正確，你作為架構師必須定義並傳達以下這個三位一體的架構藍圖給下游的 ai_coder。這不是一個建議，而是一個強制性的設計規範。\n        *   **第一部分：專案結構規範 (Project Structure Specification)**\n            你必須指令 ai_coder 建立一個巢狀的檔案結構。Flask 主應用程式 (index.py) 必須位於 `api/` 子目錄中，而 `templates` 和 `static` 等前端資源資料夾必須位於專案根目錄，與 `api/` 資料夾同級。\n            ```\n            / (專案根目錄)\n            ├── api/\n            │   └── index.py          <-- 主應用程式\n            ├── static/\n            │   └── ...               <-- 前端靜態資源\n            ├── templates/\n            │   └── ...               <-- HTML 模板\n            ├── discounts.json        <-- 資料來源\n            ├── vercel.json\n            └── requirements.txt\n            ```\n        *   **第二部分：Vercel 配置規範 (vercel.json Specification)**\n            你必須指令 ai_coder 生成的 `vercel.json` 內容需要完全匹配上述結構，即 `builds` 的 `src` 必須指向 `api/index.py`，並且 `rewrites` 規則需要設定以將所有請求導向該 Flask 應用。\n            ```json\n            {\n              \"builds\": [\n                {\n                  \"src\": \"api/index.py\",\n                  \"use\": \"@vercel/python\"\n                }\n              ],\n              \"routes\": [\n                {\n                  \"src\": \"/(.*)\",\n                  \"dest\": \"api/index.py\"\n                }\n              ]\n            }\n            ```\n        *   **第三部分：Flask 初始化規範 (Flask Initialization Specification)**\n            基於以上兩點結構規範，你必須明確指出，在 `api/index.py` 中初始化 Flask 應用時，必須使用以下程式碼來進行路徑回溯，以找到根目錄的 `templates` 和 `static` 資料夾。請將這段程式碼作為一個必須執行的命令傳達下去。\n            ```python\n            # 位於 api/index.py 的程式碼\n            import os\n            from flask import Flask\n\n            # 取得目前檔案的目錄，然後往上一層找到根目錄\n            # 這確保無論在哪個環境執行，都能正確找到 templates 和 static\n            project_root = os.path.abspath(os.path.join(os.path.dirname(__file__), '..'))\n            \n            app = Flask(__name__, \n                      template_folder=os.path.join(project_root, 'templates'), \n                      static_folder=os.path.join(project_root, 'static'))\n            ```\n\n*   **資料儲存 (Data Storage):** **單一 JSON 檔案 (`discounts.json`)**\n    *   **理由:** 根據功能規格書 (FSD)，所有折扣資料都來自一個 JSON 檔案。此方案完美實現了零營運成本的目標。資料的「持久化」和版本控制由 Git 天然提供。內容更新是透過後台功能觸發 GitHub API，將新內容 commit 回儲存庫，這會自動觸發 Vercel 重新部署，生成新的靜態網站，流程簡單且可靠。\n\n*   **前端介面 (Frontend Interface):** **原生 HTML/CSS/JavaScript 搭配 Jinja2 模板**\n    *   **理由:** FSD 描述了一個簡單的列表頁面和一個後台編輯頁面。使用 Flask 內建的 Jinja2 模板引擎可以在 Vercel 建置階段直接從 `discounts.json` 渲染出靜態的 HTML 列表頁，實現極速載入。後台 `/admin` 頁面則使用原生 JavaScript 處理密碼驗證和對後端 Serverless Function 的 AJAX 請求，無需引入任何重型前端框架，保持專案的輕量化。\n\n*   **AI 模型 (AI Model):** **不適用**\n    *   **理由:** 此專案的核心功能是資料的展示與編輯，不涉及任何 AI 內容生成或分析的需求，因此無需整合 AI 模型。\n\n*   **核心函式庫 (Key Libraries):**\n    *   `Flask`: Web 框架核心。\n    *   `requests`: 用於向 GitHub API 發送 HTTP 請求以更新 JSON 檔案。\n    *   `python-dotenv`: (僅供本地開發使用) 用於從 `.env` 檔案載入環境變數。\n\n### 2. 專案結構圖 (Project Structure for Vercel)\n\n```\n/ (專案根目錄)\n├── api/\n│   └── index.py          # Flask 主應用程式，包含首頁渲染和後台 API 邏輯\n├── static/\n│   └── css/\n│       └── style.css     # 網站主要樣式表\n│   └── js/\n│       └── admin.js      # 後台頁面的 JavaScript 邏輯\n├── templates/\n│   ├── index.html        # 公開的折扣列表頁面模板\n│   └── admin.html        # 受密碼保護的後台編輯頁面模板\n├── discounts.json        # 儲存所有折扣資料的唯一來源\n├── vercel.json           # Vercel 部署設定檔\n├── requirements.txt      # Python 依賴函式庫列表\n└── .gitignore            # Git 忽略檔案設定\n```\n\n### 3. 資料模型 (Data Model)\n\n本專案的資料儲存於根目錄的 `discounts.json` 檔案中。該檔案的結構是一個包含多個折扣物件的 JSON 陣列。每個折扣物件的結構如下：\n\n```json\n[\n  {\n    \"id\": \"string\",          // 唯一識別碼，例如 UUID\n    \"storeName\": \"string\",   // 店家名稱\n    \"category\": \"string\",    // 分類 (例如: Food, Books, Tech)\n    \"description\": \"string\", // 折扣內容的簡短描述\n    \"type\": \"string\",        // 類型: 'code', 'link', 'in-store'\n    \"value\": \"string\",       // 折扣碼或對應的 URL 連結\n    \"notes\": \"string\"        // 額外備註 (可選)\n  }\n]\n```\n\n### 4. 外部 API 整合方案 (External API Integration Plan)\n\n本專案需要整合 **GitHub API** 以實現在網站後台更新 `discounts.json` 檔案的功能。\n\n*   **端點 (Endpoint):** `/repos/{owner}/{repo}/contents/{path}`\n*   **認證方式 (Authentication):** 使用 GitHub Personal Access Token (PAT)。此 Token 必須儲存在 Vercel 的環境變數 `GITHUB_API_KEY` 中，並授予 `repo` 存取權限。嚴禁將 Token 硬編碼在程式碼中。\n*   **執行流程:**\n    1.  後台 Serverless Function (`/api/update`) 接收到前端傳來的新 JSON 內容。\n    2.  該函式首先會呼叫 GitHub API **讀取** `discounts.json` 的最新版本，以取得檔案的 `sha` 雜湊值，這是更新檔案所必需的。\n    3.  接著，函式會發送一個 `PUT` 請求到 GitHub API 的內容端點。\n    4.  請求的 `body` 中需包含：\n        *   `message`: Commit 的訊息 (例如: \"Content update from web admin\")。\n        *   `content`: 新的 JSON 內容，需經過 Base64 編碼。\n        *   `sha`: 上一步取得的檔案 `sha` 雜湊值。\n    5.  GitHub API 成功接收後，會建立一個新的 commit，這將自動觸發 Vercel 的重新部署流程。\n\n### 5. 使用者認證 (User Authentication)\n\n根據 FSD 的要求，本專案**無需**複雜的 OAuth 使用者系統。後台 `/admin` 頁面將採用**簡單密碼保護**機制。\n\n*   **實現方式:** 在 Vercel 中設定一個環境變數 `ADMIN_PASSWORD`。當使用者訪問 `/admin` 時，後端邏輯會比對使用者提交的密碼與該環境變數的值是否相符。此方案完全符合「最小化基礎設施原則」，同時滿足了 FSD 中定義的簡易保護需求。\n\n### 6. 環境變數 (Environment Variables)\n\n為了讓系統正常運作，必須在 Vercel 專案設定中配置以下環境變數：\n\n*   `FLASK_SECRET_KEY`: Flask 用於安全簽署的密鑰。雖然本專案不使用 session，但設定此變數是良好實踐。\n*   `GITHUB_API_KEY`: 具有 `repo` 權限的 GitHub Personal Access Token，用於在後台更新 `discounts.json`。\n*   `GITHUB_REPO_FULL_NAME`: GitHub 儲存庫的完整名稱，格式為 `username/repository-name` (例如 `johndoe/student-discounts`)。\n*   `ADMIN_PASSWORD`: 用於保護 `/admin` 頁面的自訂密碼。\n\n### 7. 開發者備註：最小化基礎設施原則 (Principle of Minimal Infrastructure)\n\n本架構設計嚴格遵循了「最小化基礎設施原則」，專注於快速實現核心功能：\n\n1.  **無用戶系統:** 採用簡單的環境變數密碼，避免了引入複雜的用戶資料庫和 OAuth 流程。\n2.  **無資料庫:** 專案的「資料庫」就是 Git 儲存庫中的一個 JSON 檔案，完美契合了零成本和簡易維護的需求。\n3.  **最小化依賴:** 僅使用 `Flask` 和 `requests` 兩個核心函式庫，保持了專案的輕量和快速部署。\n\n此架構讓獨立開發者能將所有精力集中在實現「學生能看折扣列表」和「擁有者能在網站上更新列表」這兩個核心使用者故事上，以最低的成本和最快的速度交付一個完全符合客戶需求的可用產品。\n```"
    }
}